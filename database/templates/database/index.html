{% extends "base.html" %}



{% block main %}

<div class="container pagetitle dbtitle">

	<div class="row">
		<div class="col-md-12">
			<h1 class="pagetitle">Database</h1>
		</div>
	</div>

</div>
<!-- database filters-->

	<div class="row">
		<div class="col-md-12 filterwrapper">
			    <form id="filter" action="" method="get">
			       {{ filter.form.as_p }}
			        <input type="submit" />
			    </form>
		</div>
	</div>



	<div class="row database-table">
		<div class="profile col-md-12">

			<table id="database" class="table table-striped " cellspacing="0" width="100%">
			<thead>
				<tr>
					<th>Name</th>
					<th>Description</th>
					<th><i class="fa fa-calendar "></i> Recording Date</th>
					<th><i class="fa fa-map-marker "></i> Location</th>
					<th>Type of Violation</th>
					<th>Thumbnail</th>
				</tr>
				
			<thead>

			<tbody>
				{% for entry in filter %}
					<tr>

					<td>
						<a href="/database/{{entry.id}}" >{{entry.name}}</a>
					</td>
            		<td>
            			{{entry.description}}
            		</td>
            		<td>
            			{{entry.recording_date}}
            		</td>
            		<td>
            			<b>{% for loc in entry.location.all %}
            				{{ loc.name }}
            			{% endfor %}</b>
            			({{entry.location_latitude}}, {{entry.location_longitude}})
            		</td>
.
            		<td>
            			{% for ctype in entry.type_of_violation.all %}
            				{{ ctype.name }}
            			{% endfor %}
			</td>
            		<td>
            			Thumbnails to come
            		</td>
					
					</tr>
				{% endfor %}
			<tbody>
			</table>
		</div>
	</div>

{% endblock %}


{% block javascripts %}
<!--<script src="/static/components/datatables/datatables.js"></script>
<script src="/static/components/datatables/datatables-bootstrap.js"></script>
<link rel="stylesheet" href="/static/components/datatables/datatables-bootstrap.css">


<script type="text/javascript">
	jQuery(document).ready(function() {
	    jQuery('#database').dataTable({
        "paging":   false,
        //ordering": false,
        //"info":     false
    });
	} );
</script>-->
{% endblock %}